<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Happy New Year 2026</title>
<!-- 1511101612 1816 1415191015181112 111310191514 -->
<link href="https://fonts.googleapis.com/css2?family=Rozha+One&family=Tiro+Devanagari+Hindi:ital@0;1&display=swap" rel="stylesheet">
<!-- 14151915161218121119 18191819 1912 141519151611101519 -->
<script src="https://html2canvas.hertzen.com/dist/html2canvas.min.js"></script>

<style>
    :root {
        --saffron: #FF9933;
        --maroon: #800000;
        --gold: #FFD700;
        --cream: #fff5e6;
    }

    body {
        margin: 0;
        padding: 0;
        font-family: 'Tiro Devanagari Hindi', serif;
        background: radial-gradient(circle, #ffcc80, #ff9933, #e65100);
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        overflow-x: hidden;
    }

    /* --- CAPTURE AREA (1611141910 11131913 1218191110) --- */
    .capture-wrapper {
        padding: 5px;
        width: 100%;
        max-width: 420px;
        display: flex;
        justify-content: center;
    }

    .card {
        position: relative;
        width: 100%;
        background: #fff;
        border: 4px solid var(--gold);
        border-radius: 15px;
        padding: 15px;
        text-align: center;
        box-shadow: 0 0 40px rgba(139, 0, 0, 0.6);
        overflow: hidden;
    }

    /* 17101615141119 1416101119 */
    .om-decor { font-size: 35px; color: var(--saffron); margin-top: -10px; }

    h1 {
        font-family: 'Rozha One', serif;
        color: var(--maroon);
        font-size: 26px;
        margin: 5px 0;
        text-shadow: 1px 1px 1px #ffcc80;
    }

    .year {
        font-size: 48px;
        background: linear-gradient(to right, #ff512f, #dd2476);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        font-weight: bold;
    }

    /* 12171016 1410161912 */
    .wishes-text {
        background: var(--cream);
        color: #d84315;
        padding: 10px;
        border-radius: 8px;
        font-weight: bold;
        font-size: 15px;
        margin: 10px 0;
        border-left: 5px solid var(--saffron);
        line-height: 1.4;
    }

    /* --- PHOTO FRAME --- */
    .photo-frame {
        width: 100%;
        height: 320px;
        background-color: #000;
        border: 4px double var(--gold);
        border-radius: 10px;
        margin: 10px 0;
        display: flex;
        justify-content: center;
        align-items: center;
        overflow: hidden;
        position: relative;
    }

    #userPhoto {
        width: 100%;
        height: 100%;
        object-fit: contain; /* 11131913 10141612 161110191112 */
    }

    /* --- LINK WATERMARK (14101911 11131913 1016 1312 18111019 16111019) --- */
    .link-watermark {
        background: #000;
        color: #fff;
        font-size: 11px;
        padding: 6px;
        border-radius: 20px;
        margin-top: 5px;
        display: inline-block;
        font-family: sans-serif;
        border: 1px solid var(--gold);
    }

    /* --- CONTROLS SECTION --- */
    .controls {
        width: 90%;
        max-width: 400px;
        margin-top: 15px;
        text-align: center;
        z-index: 20;
        padding-bottom: 20px;
    }

    .file-btn {
        background: var(--maroon);
        color: white;
        padding: 10px 25px;
        border-radius: 50px;
        cursor: pointer;
        font-size: 14px;
        display: inline-block;
        box-shadow: 0 4px 8px rgba(0,0,0,0.3);
    }

    /* MAIN SHARE BUTTON */
    .whatsapp-share-btn {
        background: linear-gradient(45deg, #25D366, #128C7E);
        color: white;
        width: 100%;
        padding: 15px;
        font-size: 18px;
        font-weight: bold;
        border: none;
        border-radius: 10px;
        margin-top: 15px;
        cursor: pointer;
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 10px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.3);
        animation: pulse 2s infinite;
    }

    /* LOADING OVERLAY */
    #loading {
        display: none;
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.85);
        z-index: 9999;
        color: white;
        text-align: center;
        padding-top: 45vh;
        font-size: 18px;
    }

    /* ADS */
    .ad-box {
        margin-top: 5px;
        padding: 2px;
        background: #f4f4f4;
        border: 1px dashed #ccc;
        display: flex;
        justify-content: center;
    }

    /* ANIMATION CANVAS */
    #bgCanvas { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; pointer-events: none; }
    @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.02); } 100% { transform: scale(1); } }

</style>
</head>
<body onclick="playAudio()">

    <!-- AUDIO -->
    <audio id="bgMusic" loop>
        <source src="wishes.mp3" type="audio/mp3">
    </audio>
    <canvas id="bgCanvas"></canvas>

    <!-- LOADING SCREEN -->
    <div id="loading">
        <div style="font-size:40px;">94</div>
        <br>11131913 1816 18111019 1410151016 1513 161510 1510...<br>1915101510 101516141219151310 19161910...
    </div>

    <!-- ===== CARD AREA (1515 11131913 1218191110) ===== -->
    <div class="capture-wrapper" id="cardToShare">
        <div class="card">
            <div class="om-decor">9315 78 9315</div>
            <h1>1811 11161513 1912 12131319101418101310<br><span class="year">2026</span></h1>
            
            <div class="wishes-text">
                "14101913 1816 14101919 10141619 101611111016 1913<br>
                1813 141018 1912 15101615161119 1213131910141810131018"<br>
                05 1615 12151612 161014 05
            </div>

            <!-- PHOTO -->
            <div class="photo-frame">
                <!-- CrossOrigin Image is CRITICAL for screenshots -->
                <img id="userPhoto" src="https://cdn-icons-png.flaticon.com/512/8802/8802672.png" crossorigin="anonymous" alt="Card">
            </div>

            <!-- AD 1 (Card 1919 13101616 - 11131913 141910 14131110) -->
            <div class="ad-box">
                <script>
                    atOptions = { 'key' : '4acc0331fedb6a2050fa6fc5179175d7', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
                </script>
                <script type="text/javascript" src="https://www.highperformanceformat.com/4acc0331fedb6a2050fa6fc5179175d7/invoke.js"></script>
            </div>

            <!-- VISIBLE LINK (Watermark) -->
            <div class="link-watermark">
                1910161511 121810151910: 
                <span style="color:#FFD700; font-weight:bold;">happy-new-year-2026-livid.vercel.app</span>
            </div>
        </div>
    </div>
    <!-- ===================================== -->

    <!-- CONTROLS -->
    <div class="controls">
        <label class="file-btn">
            92 11131913 1216181910
            <input type="file" style="display:none" accept="image/*" onchange="uploadImage(event)">
        </label>

        <!-- SHARE BUTTON -->
        <button class="whatsapp-share-btn" onclick="shareCard()">
            04 WhatsApp 1016 1319161910 (Link + Photo)
        </button>

        <!-- AD 2 (Card 1919 12101516) -->
        <div class="ad-box" style="margin-top:15px;">
            <script async="async" data-cfasync="false" src="https://pl28208324.effectivegatecpm.com/2d3e3e20d096ece9151df243cb876ebf/invoke.js"></script>
            <div id="container-2d3e3e20d096ece9151df243cb876ebf"></div>
        </div>
    </div>

<script>
    /* 1. AUDIO & ANIMATION */
    const audio = document.getElementById('bgMusic');
    window.onload = function() { initAnimation(); }
    function playAudio() { if(audio.paused) audio.play(); }

    /* 2. PHOTO UPLOAD */
    function uploadImage(event) {
        const file = event.target.files[0];
        if(file){
            const reader = new FileReader();
            reader.onload = function(e){
                document.getElementById('userPhoto').src = e.target.result;
                playAudio(); // 11131913 1216181419 1512 11101810 12131614
            }
            reader.readAsDataURL(file);
        }
    }

    /* 3. MAGIC SHARE FUNCTION (PHOTO + LINK TEXT) */
    async function shareCard() {
        const loading = document.getElementById('loading');
        loading.style.display = 'block'; // 181311111011 1611101017

        try {
            // Step 1: 1910161511 1910 11131913 12181017
            const canvas = await html2canvas(document.getElementById('cardToShare'), {
                scale: 2, // 1314151512 1915111018111912
                backgroundColor: null,
                useCORS: true // 1616131612 1510
            });

            // Step 2: 11131913 1913 11101518 141910 12161813
            canvas.toBlob(async (blob) => {
                const file = new File([blob], "NewYear2026.png", { type: "image/png" });

                // Step 3: 18111019 1410151016 191613
                // Vercel 1910 18111019 15151019 1519131410191119 14 161015191110
                const myLink = "https://happy-new-year-2026-livid.vercel.app"; 
                
                const shareText = `78 14191612 11131913 1919 141015 1813 141018 1912 12171016 1619101910! 95\n\n93 13101810 1910161511 15151019 121810151910:\n${myLink}`;

                // Step 4: 12191516 191613 (Navigator Share API)
                if (navigator.share) {
                    try {
                        await navigator.share({
                            files: [file], // 11131913
                            title: 'Happy New Year',
                            text: shareText // 1515 18111019 191010151218 141910 14131110
                        });
                        console.log("Shared successfully");
                    } catch (err) {
                        console.log("User cancelled share");
                    }
                } else {
                    // 131116 12151610171916 141013161519 18 191619 (16101419 181010191110 1016)
                    alert("Sharing not supported. Downloading image...");
                    const link = document.createElement('a');
                    link.download = 'NewYearCard.png';
                    link.href = canvas.toDataURL();
                    link.click();
                    // 18111019 19111012 19161819 1919 181113 101516111415101519
                    prompt("1915101510 1514 18111019 1913 19111012 19161919 1319161910:", myLink);
                }
                loading.style.display = 'none'; // 181311111011 15191017
            }, 'image/png');

        } catch (error) {
            console.error("Error:", error);
            alert("Error generating card.");
            loading.style.display = 'none';
        }
    }

    /* 4. FLOWER ANIMATION */
    const canvas = document.getElementById('bgCanvas');
    const ctx = canvas.getContext('2d');
    canvas.width = window.innerWidth; canvas.height = window.innerHeight;
    let particles = [];
    const colors = ['#FF9933', '#FFD700', '#fff'];
    
    function initAnimation(){
        for(let i=0; i<50; i++) particles.push({
            x: Math.random()*canvas.width, y: Math.random()*-canvas.height,
            size: Math.random()*5+3, speed: Math.random()*2+1,
            color: colors[Math.floor(Math.random()*colors.length)]
        });
        animate();
    }
    function animate(){
        ctx.clearRect(0,0,canvas.width,canvas.height);
        particles.forEach(p=>{
            ctx.fillStyle = p.color; ctx.beginPath(); ctx.arc(p.x,p.y,p.size,0,Math.PI*2); ctx.fill();
            p.y+=p.speed; if(p.y>canvas.height) p.y=-10;
        });
        requestAnimationFrame(animate);
    }
</script>

</body>
</html>